(this["webpackJsonpquerylac-frontend"]=this["webpackJsonpquerylac-frontend"]||[]).push([[0],{388:function(e,t,a){},452:function(e,t,a){},473:function(e,t,a){},476:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(16),s=a.n(n),o=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,887)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))},i=a(117),u=a(118),l=a(129),b=a(128),p=a(366),h=a(35),d=(a(388),a(25)),j=a(188),E=a(62),O=a.n(E),f=a(88),T=a(512),_=a(510),v=a(244),C=a.n(v),g=(a(451),a(452),a(95)),S=a(511),m=function(){return{type:"GET_TEACHER_BASIC_DETAILS_REQUEST"}},A=function(e,t){return{type:"GET_TEACHER_BASIC_DETAILS_SUCCESS",payload:e,category:t}},x=function(e){return{type:"GET_TEACHER_BASIC_DETAILS_FAILURE",payload:e}},R=function(){return{type:"GET_TEACHER_ARTICLES_REQUEST"}},k=function(e,t){return{type:"GET_TEACHER_ARTICLES_SUCCESS",payload:e,category:t}},y=function(e){return{type:"GET_TEACHER_ARTICLES_FAILURE",payload:e}},L=function(){return{type:"GET_TEACHER_BOOK_CHAPTERS_REQUEST"}},w=function(e,t){return{type:"GET_TEACHER_BOOK_CHAPTERS_SUCCESS",payload:e,category:t}},D=function(e){return{type:"GET_TEACHER_BOOK_CHAPTERS_FAILURE",payload:e}},H=a(19),I=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={categories:[{name:"basicDetails",title:"Datos b\xe1sicos"},{name:"articles",title:"Art\xedculos"},{name:"bookChapters",title:"Cap\xedtulos de libros"},{name:"awards",title:"Premios"}],activeCategory:"basicDetails",activeModule:"cvlac",dataToRequest:{cvlac:[],grouplac:[]}},e.changePage=function(t,a){switch(e.setState({activeModule:a}),a){case"cvlac":e.setState({categories:[{name:"basicDetails",title:"Datos b\xe1sicos"},{name:"articles",title:"Art\xedculos"},{name:"bookChapters",title:"Cap\xedtulos de libros"}]});break;case"grouplac":e.setState({categories:[{name:"basicDetails",title:"Datos b\xe1sicos"},{name:"members",title:"Miembros"},{name:"institutions",title:"Instituciones"}]});break;case"googleScholar":e.setState({categories:[""]})}},e.changeCategory=function(){var t=Object(f.a)(O.a.mark((function t(a,r){var c,n,s,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=e.state,n=c.dataToRequest,s=c.activeModule,e.setState({activeCategory:r}),t.t0=s,t.next="cvlac"===t.t0?5:"grouplac"===t.t0?8:"googleScholar"===t.t0?11:14;break;case 5:if(!(e.props.teachers.data[r].length>0)){t.next=7;break}return t.abrupt("return");case 7:return t.abrupt("break",14);case 8:if(!(e.props.groups.data[r].length>0)){t.next=10;break}return t.abrupt("return");case 10:return t.abrupt("break",14);case 11:if(!(e.props.teachers.data[r].length>0)){t.next=13;break}return t.abrupt("return");case 13:return t.abrupt("break",14);case 14:t.t1=r,t.next="basicDetails"===t.t1?17:"articles"===t.t1?19:"bookChapters"===t.t1?21:23;break;case 17:return o="getTeacherBasicDetails",t.abrupt("break",23);case 19:return o="getTeacherArticles",t.abrupt("break",23);case 21:return o="getTeacherBookChapters",t.abrupt("break",23);case 23:i=0;case 24:if(!(i<n[s].length)){t.next=30;break}return t.next=27,e.props[o](n[s][i]);case 27:i++,t.next=24;break;case 30:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.makeColumns=function(t){var a=e.props.teachers.data[t];if(a[0])return Object.keys(a[0]).map((function(e){return{title:e,field:e}}))},e.makeRows=function(t){var a=e.props.teachers.data[t];if(a[0]){var r=Object.keys(a[0]);return a.map((function(e,t){var a={key:t};return r.forEach((function(t,r){a[t]=e[t]})),a}))}},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.changePage,a=this.state,r=a.categories,c=a.activeCategory,n=a.activeModule,s={accept:".xlsx",name:"file",maxCount:1,onChange:function(t){e.props.resetTeachersData()},beforeUpload:function(t){return Object(S.a)(t).then(function(){var t=Object(f.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({dataToRequest:Object(j.a)({},n,a)}),a.forEach((function(t){return e.props.getTeacherBasicDetails(t[0],c)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),!1}},o=r.map((function(t){var a=t.name,r=t.title;return Object(H.jsx)("div",{children:Object(H.jsx)("button",{onClick:function(t){return e.changeCategory(t,a)},className:"LacTable-filterSlider__slide LacTable-filterSlider__slide--".concat(c===a?"active":"inactive"),children:r})})})),i={columns:this.makeColumns(c),data:this.makeRows(c),pageSize:5,emptyRowsWhenPaging:!1,pageSizeOptions:[5,10,20,50],options:{exportButton:!0,exportFileName:c,showTitle:!1}};return Object(H.jsxs)("div",{className:"LacTable",children:[Object(H.jsxs)("ul",{className:"LacTable-nav",children:[Object(H.jsx)("li",{onClick:function(e){return t(e,"cvlac")},className:"LacTable-nav__tab LacTable-nav__tab--".concat("cvlac"===n?"active":"inactive"),children:"CvLac"}),Object(H.jsx)("li",{onClick:function(e){return t(e,"grouplac")},className:"LacTable-nav__tab LacTable-nav__tab--".concat("grouplac"===n?"active":"inactive"),children:"GroupLac"})]}),Object(H.jsxs)("div",{className:"LacTable-wrapper LacTable-wrapper--".concat(this.props.teachers.loading?"loading":""),children:[Object(H.jsxs)("div",{className:"LacTable-header",children:[Object(H.jsx)("div",{children:Object(H.jsx)("div",{className:"LacTable-filterSlider",children:Object(H.jsx)(T.a,Object(d.a)(Object(d.a)({},{arrows:!0,autoplay:!1,slidesToShow:3,swipe:!0,dots:!1,infinite:!1,draggable:!0}),{},{children:o}))})}),Object(H.jsx)("div",{className:"LacTable-actionBtns",children:Object(H.jsx)(_.a,Object(d.a)(Object(d.a)({},s),{},{children:Object(H.jsx)("button",{className:"LacTable-actionBtns__btn LacTable-actionBtns__btn--add icon-add",children:"A\xf1adir"})}))})]}),Object(H.jsx)("div",{className:"LacTable-table",children:Object(H.jsx)("div",{children:Object(H.jsx)(C.a,Object(d.a)({},i))})})]})]})}}]),a}(r.Component),B=Object(g.b)((function(e){return{teachers:e.teachers}}),(function(e){return{resetTeachersData:function(){return e({type:"RESET_TEACHERS_DATA"})},getTeacherBasicDetails:function(t){return e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,r){var c,n,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(m()),c="http://localhost:4000/api/cvlac/teacher/".concat(e,"/basicDetails"),console.log(c),n={method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}},t.prev=4,t.next=7,fetch(c,n).then((function(e){if(!e.ok)throw Error(e.status);return e}));case 7:return s=t.sent,t.next=10,s.json();case 10:return o=t.sent,t.abrupt("return",a(A(o.basicDetails,"basicDetails")));case 14:t.prev=14,t.t0=t.catch(4),a(x(t.t0));case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},getTeacherArticles:function(t){return e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,r){var c,n,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(R()),c="http://localhost:4000/api/cvlac/teacher/".concat(e,"/articles"),n={method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}},t.prev=3,t.next=6,fetch(c,n).then((function(e){if(!e.ok)throw Error(e.status);return e}));case 6:return s=t.sent,t.next=9,s.json();case 9:return o=t.sent,t.abrupt("return",a(k(o.articles)));case 13:t.prev=13,t.t0=t.catch(3),a(y(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))},getTeacherBookChapters:function(t){return e(function(e){return function(){var t=Object(f.a)(O.a.mark((function t(a,r){var c,n,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(L()),c="http://localhost:4000/api/cvlac/teacher/".concat(e,"/bookChapters"),n={method:"GET",credentials:"same-origin",headers:{Accept:"application/json"}},t.prev=3,t.next=6,fetch(c,n).then((function(e){if(!e.ok)throw Error(e.status);return e}));case 6:return s=t.sent,t.next=9,s.json();case 9:return o=t.sent,t.abrupt("return",a(w(o.bookChapters)));case 13:t.prev=13,t.t0=t.catch(3),a(D(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))(I),G=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(H.jsx)("div",{className:"Home",children:Object(H.jsxs)("div",{className:"container",children:[Object(H.jsxs)("div",{className:"hero",children:[Object(H.jsx)("h1",{className:"hero__title",children:"Bienvenido a QueryLac"}),Object(H.jsxs)("p",{className:"hero__subtitle",children:["Donde puedes consultar cualquiercosa-lac, pero todo es m\xe1s ",Object(H.jsx)("span",{children:"bonito"})]})]}),Object(H.jsx)(B,{})]})})}}]),a}(r.Component),U=(a(473),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(H.jsx)(p.a,{children:Object(H.jsxs)(h.d,{children:[Object(H.jsx)(h.b,{path:"/home",component:G}),Object(H.jsx)(h.b,{exact:!0,path:"/",children:Object(H.jsx)(h.a,{to:"/home"})})]})})}}]),a}(r.Component)),N=a(66),P=a(367),F=a.n(P),M=a(368),Q=a(369),q=a(132),K={data:{basicDetails:[],articles:[],bookChapters:[],awards:[],events:[],languages:[],books:[],networks:[],softwares:[],titles:[],judges:[],projects:[],couplesEvaluators:[]},loading:null,error:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"RESET_TEACHERS_DATA":return K;case"GET_TEACHER_BASIC_DETAILS_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"GET_TEACHER_BASIC_DETAILS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:Object(d.a)(Object(d.a)({},e.data),{},{basicDetails:[].concat(Object(q.a)(e.data.basicDetails),[r])})});case"GET_TEACHER_BASIC_DETAILS_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:r});case"GET_TEACHER_ARTICLES_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"GET_TEACHER_ARTICLES_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:Object(d.a)(Object(d.a)({},e.data),{},{articles:[].concat(Object(q.a)(e.data.articles),Object(q.a)(r))})});case"GET_TEACHER_ARTICLES_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:r});case"GET_TEACHER_BOOK_CHAPTERS_REQUEST":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"GET_TEACHER_BOOK_CHAPTERS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,data:Object(d.a)(Object(d.a)({},e.data),{},{bookChapters:[].concat(Object(q.a)(e.data.bookChapters),Object(q.a)(r))})});case"GET_TEACHER_BOOK_CHAPTERS_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:r});default:return e}},J=Object(N.combineReducers)({teachers:z}),W=Object(N.createStore)(J,Object(Q.composeWithDevTools)(Object(N.applyMiddleware)(F.a,M.a)));s.a.render(Object(H.jsxs)(c.a.StrictMode,{children:[Object(H.jsx)(g.a,{store:W,children:Object(H.jsx)(U,{})}),","]}),document.getElementById("root")),o()}},[[476,1,2]]]);
//# sourceMappingURL=main.9305054d.chunk.js.map